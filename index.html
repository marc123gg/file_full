{% extends 'base.html' %}
{% from 'bootstrap/pagination.html' import render_pagination %}
{% from 'macros.html' import photo_card with context %}
{% from 'macros.html' import app_card,app_page  %}


{% block title %}Home{% endblock %}

{% block main %}


<div class="box" style="margin-top: 1.5%;margin-left: 21%;display:inline-block;width: 9%;">

  <ul class="nav flex-column">
  <li class="" style="border: 1px solid #eff1f8;border-bottom: 0px;background-color: #edf1ef;color: #bcbcbc">
        <div style="height: 2.2em;line-height: 2.2em">
          <svg style="" class="bi bi-list" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" clip-rule="evenodd"/>
        </svg>
          PC端软件
        </div>
  </li>
      {% if app_classify != [] %}
        {% for par_class in app_classify %}
    <li  style="color: #000000;height: 2.5em;line-height: 2.5em;font-size: 1.2em;border: 1px solid #eff1f8;border-bottom: 0px;background-color: {% if app_classify.index(par_class) % 2 == 1 %}#FAFAFA;{% else %}#F6F5ED;{% endif %}">
      <a id="first-category" class="first-category-link" style="color: #000000;text-decoration:none;" href="#" data-categoryId="{{ par_class.id }}" data-system="win" data-href="" onclick="$('a[class=first-category-link] img').each(function() {
        $(this).hide();});$(this).find('img').show();">
          <svg class="bi bi-bookmarks" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M7 13l5 3V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12l5-3zm-4 1.234l4-2.4 4 2.4V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v10.234z" clip-rule="evenodd"/>
  <path d="M14 14l-1-.6V2a1 1 0 0 0-1-1H4.268A2 2 0 0 1 6 0h6a2 2 0 0 1 2 2v12z"/>
          </svg>
          {{ par_class.name }}
          {% if par_class == app_classify[0] %}
          <img src="{{ url_for('static',filename='images/monkey.gif') }}" style="width: 1.8em;height: 1.8em;margin-left: 20%;"/>
          {% else %}
          <img src="{{ url_for('static',filename='images/monkey.gif') }}" style="width: 1.8em;height: 1.8em;margin-left: 20%;display: none"/>
          {% endif %}
      </a>
    </li>
        {% endfor %}
      {% endif %}
  </ul>
</div>


<div id="right-items" class="box" style="display:inline-block;width: 46%;background-color: #FFFFFF">
<ul class="nav flex-column">
    <li style="margin-left: 1%;">
        <div class="btn-group" role="group" aria-label="Basic example" id="second-group">
            {% if admin_second !=[] %}
                {% for second_category in admin_second %}
                    <button style="height: 3.2em;font-size: 1em" name="show-app-Bysecond" type="button" class="btn btn-secondary" first-category-id="1" second-category-id="{{ second_category.id }}" system="{{ system }}">{{ second_category.name }}</button>
                {% endfor %}
            {% endif %}
        </div>
    </li>
    <li style="margin-left: 0%;">
        <HR align=center width=98% color=#987cb9 SIZE=1>
        <div id="loader" style="line-height: 115px;float: contour;margin-left: 42%;display: none"><img alt="activity indicator" src="{{ url_for('static',filename='images/loading.gif') }}"></div>

        <div style="margin-top: 0rem;margin-right: 1%" id="main-changeBy-ajax">
            <table id="second-table"  filter="null" second_id="{{ second_category_id }}" border="0" width="100%" rules=none style="background-color: #FFFFFF;table-layout:fixed">
                {% if first_apps !=[] %}
                    {% if 0 < first_apps|length < 4 %}
                        <tr style="width: 100%">
                            {% for app in first_apps %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                    {% endif %}
                    {% if 3 < first_apps|length < 7 %}
                        <tr style="width: 100%">
                            {% for app in first_apps[:3] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                        <tr style="width: 100%">
                            {% for app in first_apps[3:] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                               {% endfor %}
                        </tr>
                    {% endif %}
                    {% if 6 < first_apps|length < 10 %}
                        <tr style="width: 100%">
                            {% for app in first_apps[:3] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                               {% endfor %}
                        </tr>
                        <tr style="width: 100%">
                            {% for app in first_apps[3:6] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                         <tr style="width: 100%">
                            {% for app in first_apps[6:] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                             {% endfor %}
                        </tr>
                     {% endif %}
                      {% if 9 < first_apps|length < 13 %}
                        <tr style="width: 100%">
                            {% for app in first_apps[:3] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                        <tr style="width: 100%">
                            {% for app in first_apps[3:6] %}
                               <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                         <tr style="width: 100%">
                            {% for app in first_apps[6:9] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                        <tr style="width: 100%">
                            {% for app in first_apps[9:] %}
                                <div style="padding: 0.1em;padding-right: 0.6em;width: 31.6%;display: inline-block"  first-category-id="{{ first_category_id }}" second-category-id="{{ second_category_id }}" app-id="{{ app.id }}"><div style=""><a href="{{ url_for('main.show_app',app_id=app.id) }}" style="color: #777777;text-decoration: none;"><div style="background-color: #e3e5e8;width: 99%;margin-left: 0.4em;padding: 0.1em;padding-right: 0.1em" onmouseover="this.className='goodchange'" onmouseout="this.className='good'"><h5 style="font-size: 1.28em;margin-top: 0.2em;margin-left: auto">【{{ app.name }}】</h5><div style="margin-left: 0.52em;display: inline-block;margin-bottom: 0.4em;"><img style="margin-top: 0.1em" class="codeicon codeicon-36" height="32em" width="32em" src="{{ app.icon_url }}"></div><strong style="width: 77%;float: right;font-size: 0.83em;margin-right: 1.14%;margin-left: 0em">{{ app.simple_say }}</strong></div></a></div></div>
                            {% endfor %}
                        </tr>
                      {% endif %}
                {% else %}
                    <div style="font-size: 1.5em;">该分类暂无软件，敬请期待</div>
                {% endif %}

            </table>
            {% if pagination != [] %}
            <div style="margin-left: 41%;margin-top: 10%;" >{{ render_pagination(pagination) }}</div>
            {% endif %}
        </div>
    </li>
</ul>

</div>
<div style="display: inline-block;vertical-align: text-top">
    <div>
        <button type="button" class="btn btn-outline-success" onclick="if($('#second-table').attr('filter')=='down_num'){return;}$.ajax({type: 'GET',
                                   data: {'second_id':$('#second-table').attr('second_id'),'first_id':{{ first_category_id }},'filter':'down_num'},
                                   url : '{{ url_for('main.filter_app') }}',
                                   success: function(data){
                                      $('#main-changeBy-ajax').html(data);
                                    }
                                    });">下载排行</button>
    </div>
    <div>
        <button type="button" class="btn btn-outline-success" onclick="if($('#second-table').attr('filter')=='good_num'){return;}$.ajax({type: 'GET',
                                   data: {'second_id':$('#second-table').attr('second_id'),'first_id':{{ first_category_id }},'filter':'good_num'},
                                   url : '{{ url_for('main.filter_app') }}',
                                   success: function(data){
                                      $('#main-changeBy-ajax').html(data);
                                    }
                                    });">好评排行</button>
    </div>
    <div>
        <button type="button" class="btn btn-outline-success" onclick="if($('#second-table').attr('filter')=='timestamp'){return;}$.ajax({type: 'GET',
                                   data: {'second_id':$('#second-table').attr('second_id'),'first_id':{{ first_category_id }},'filter':'timestamp'},
                                   url : '{{ url_for('main.filter_app') }}',
                                   success: function(data){
                                      $('#main-changeBy-ajax').html(data);
                                    }
                                    });">更新时间</button>
    </div>
</div>
{% endblock %}

{% block SelfJs %}
<script type="text/javascript" src="{{ url_for('static', filename='js/Par_MainIndex.js') }}"></script>
{% endblock %}
